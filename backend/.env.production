# Production Environment Configuration (.env.production)
# Generated for Issue #115: Backend Deployment & Cost Monitoring
# Copy to .env when deploying to production

# ===== Server Configuration =====
# Environment type (development, production, staging)
NODE_ENV=production

# Server port (Railway/Lambda will override this)
PORT=3000

# Server host (use 0.0.0.0 for Docker/Cloud deployment)
HOST=0.0.0.0

# ===== Authentication =====
# GitHub Personal Access Token for GitHub Models API (Whisper transcription)
# Required: Token must have read:user and repo scope
# Get token: https://github.com/settings/tokens
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ===== Logging Configuration =====
# Log level: error, warn, info, debug, verbose
LOG_LEVEL=info

# Log format: simple, json, combined
LOG_FORMAT=json

# Log retention period (days)
LOG_RETENTION_DAYS=30

# ===== Cost Management =====
# Daily spending limit in USD
# Alert when exceeded, block at hard limit
COST_DAILY_LIMIT=100

# Monthly spending limit in USD
# Alert when exceeded, block at hard limit
COST_MONTHLY_LIMIT=1000

# Warning threshold (percentage of limit)
# Show warning in UI when 75% of limit reached
COST_WARNING_THRESHOLD=75

# Alert threshold (percentage of limit)
# Send email alert when 90% of limit reached
COST_ALERT_THRESHOLD=90

# ===== Service Timeouts (in seconds) =====
# Maximum time to download a video
VIDEO_DOWNLOAD_TIMEOUT=300

# Maximum time to extract audio from video
AUDIO_EXTRACTION_TIMEOUT=180

# Maximum time to transcribe audio
TRANSCRIPTION_TIMEOUT=600

# Maximum time to extract recipe from transcript
RECIPE_EXTRACTION_TIMEOUT=120

# Maximum time for entire request
REQUEST_TIMEOUT=900

# ===== Cache Configuration =====
# Maximum number of cached transcriptions
CACHE_MAX_ENTRIES=10000

# Cache time-to-live in days
# Older entries are automatically removed
CACHE_TTL_DAYS=30

# ===== Video Processing =====
# Maximum video file size (in MB)
# Videos larger than this will be rejected
MAX_VIDEO_SIZE=500

# Supported video platforms (comma-separated)
# Supported: youtube, tiktok, instagram, twitter, facebook, generic
SUPPORTED_PLATFORMS=youtube,tiktok,instagram,twitter,facebook,generic

# ===== Audio Processing =====
# Audio sample rate for transcription (Hz)
AUDIO_SAMPLE_RATE=16000

# Audio format for transcription
# Must be WAV for Whisper API
AUDIO_FORMAT=wav

# Audio channel configuration
# 1 = mono, 2 = stereo
AUDIO_CHANNELS=1

# ===== Database Configuration (if using database) =====
# Database URL for storing extraction results
# Format: postgresql://username:password@hostname:port/database
# Comment out if using in-memory storage
# DATABASE_URL=postgresql://user:password@localhost:5432/cooking_app

# ===== API Configuration =====
# CORS origin for frontend requests
# Set to your frontend domain in production
CORS_ORIGIN=*

# ===== Rate Limiting =====
# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ===== Email Alerts (Optional) =====
# Email for cost alerts and error notifications
ALERT_EMAIL=admin@example.com

# SMTP server for sending emails
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# ===== Feature Flags =====
# Enable/disable features in production
ENABLE_CACHING=true
ENABLE_COST_TRACKING=true
ENABLE_ERROR_ALERTS=true

# ===== Security =====
# API key for protecting sensitive endpoints (if needed)
# Generate with: openssl rand -hex 32
API_KEY=

# JWT secret for token signing (if using authentication)
JWT_SECRET=

# ===== Platform-Specific Configuration =====
# Railway-specific settings
RAILWAY_ENVIRONMENT_ID=

# AWS Lambda-specific settings (if using AWS)
AWS_REGION=us-east-1
AWS_LAMBDA_FUNCTION_NAME=cooking-app-backend

# ===== Monitoring =====
# Enable performance monitoring
ENABLE_MONITORING=true

# APM (Application Performance Monitoring) service
# Options: datadog, newrelic, none
APM_SERVICE=none

# ===== Development Tools (Disabled in Production) =====
# Enable request logging to console
DEBUG_REQUESTS=false

# Enable detailed error responses
VERBOSE_ERRORS=false
